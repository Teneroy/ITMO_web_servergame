{"version":3,"file":"result.js","sourceRoot":"","sources":["../../../sources/client/screens/result.ts"],"names":[],"mappings":"AAGA,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAE,eAAe,CAA0B,CAAC;AAIlF,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAE,4BAA4B,CAAuB,CAAC;AAE5F,IAAK,CAAC,OAAO,IAAI,CAAC,OAAO,EACzB;IACC,MAAM,IAAI,KAAK,CAAE,kDAAkD,CAAE,CAAC;CACtE;AAOD,SAAS,MAAM,CAAE,MAAiC;IAEjD,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;IAEvB,IAAI,IAAY,CAAC;IAEjB,QAAS,MAAM,EACf;QACC,KAAK,KAAK;YACT,IAAI,GAAG,aAAa,CAAC;YACrB,MAAM;QAEP,KAAK,OAAO;YACX,IAAI,GAAG,cAAc,CAAC;YACtB,MAAM;QAEP,KAAK,OAAO;YACX,IAAI,GAAG,eAAe,CAAC;YACvB,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACtB,MAAM;QAEP;YACC,MAAM,IAAI,KAAK,CAAE,sBAAsB,MAAM,GAAG,CAAE,CAAC;KACpD;IAED,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;AAC5B,CAAC;AAOD,SAAS,iBAAiB,CAAE,QAAuC;IAElE,OAAO,CAAC,gBAAgB,CAAE,OAAO,EAAE,QAAQ,CAAE,CAAC;AAC/C,CAAC;AAED,OAAO,EACN,MAAM,EACN,iBAAiB,GACjB,CAAC","sourcesContent":["/**\r\n * Сообщение с итогом игры\r\n */\r\nconst message = document.querySelector( 'main.result>p' ) as HTMLParagraphElement;\r\n/**\r\n * Кнопка перезапуска игры\r\n */\r\nconst restart = document.querySelector( 'main.result>button.restart' ) as HTMLButtonElement;\r\n\r\nif ( !message || !restart )\r\n{\r\n\tthrow new Error( 'Can\\'t find required elements on \"result\" screen' );\r\n}\r\n\r\n/**\r\n * Обновляет экран завершения игры\r\n * \r\n * @param result Результат, с которым игра завершилась\r\n */\r\nfunction update( result: 'win' | 'loose' | 'abort' ): void\r\n{\r\n\trestart.hidden = false;\r\n\t\r\n\tlet text: string;\r\n\t\r\n\tswitch ( result )\r\n\t{\r\n\t\tcase 'win':\r\n\t\t\ttext = 'Вы выиграли';\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 'loose':\r\n\t\t\ttext = 'Вы проиграли';\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase 'abort':\r\n\t\t\ttext = 'Игра прервана';\r\n\t\t\trestart.hidden = true;\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault:\r\n\t\t\tthrow new Error( `Wrong game result \"${result}\"` );\r\n\t}\r\n\t\r\n\tmessage.textContent = text;\r\n}\r\n\r\n/**\r\n * Устанавливает обработчик перезапуска игры\r\n * \r\n * @param listener Обработчик перезапуска игры\r\n */\r\nfunction setRestartHandler( listener: ( event: MouseEvent ) => void ): void\r\n{\r\n\trestart.addEventListener( 'click', listener );\r\n}\r\n\r\nexport {\r\n\tupdate,\r\n\tsetRestartHandler,\r\n};\r\n"]}